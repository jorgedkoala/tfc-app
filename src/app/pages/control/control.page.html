<ion-header>
  <ion-toolbar>
    <!-- <ion-title>control</ion-title> -->
    <ion-buttons slot="start">
        <ion-back-button defaultHref="home" [text]="'menu.atras' | translate"></ion-back-button>
      </ion-buttons>
  <div class="menuTitle">{{"menu.controles" | translate }}</div>
  <div style="float:right"> <img src="assets/img/logo.png" height="25px" /> </div>
</ion-toolbar>
</ion-header>

<ion-content >
    <ion-card >
      <ion-card-title>
        <strong>{{nombre}} </strong>
      </ion-card-title>
     <ion-card-content style="padding:0px 0px 10px 10px">
        <div style="width:100%"> 
       <div style="width:54%;float:left">
        <ion-item>
         <ion-label position="floating">{{"valor" | translate}} </ion-label>
         <!-- <ion-input *ngIf="teclado != 'text'" type="number" step="0.01"  [(ngModel)]="valor"></ion-input> -->
         <ion-input #VL type="text" inputmode="numeric" step="0.01"  [(ngModel)]="valor"
         (ionFocus)="checkObjetivo(VL)"></ion-input>
       </ion-item>
      </div>
      <div style="width:44%;float:left;margin-top: 45px;">
       <span *ngIf="pla">(en {{pla}})</span>
      </div>
        </div>
     <!-- INPUT PERSONALIZADO -->
 
     <!-- <div (click)="teclado=true">
       <div  class="myInputText" (click)="valorTextActive=true" *ngIf="valorText.length==0">
         <span [ngClass]="{'inputActive':!valorTextActive}" class="cursor">|</span>
         <span [ngClass]="{'inputActive':valorTextActive}">{{"valor" | translate}}</span>
       </div>
     <div class="myInput">{{valorText}} {{pla}}</div>
     </div>
     
 <hr>
 <ion-grid *ngIf="teclado">
 <ion-row>
 <ion-col class="boton">
  <div class="bot" (click)="setValue(1)">1</div>
 </ion-col>
 <ion-col class="boton">
   <div class="bot" (click)="setValue(2)">2</div>
 </ion-col>
 <ion-col class="boton">
   <div class="bot" (click)="setValue(3)">3</div>
 </ion-col>
 <ion-col class="boton">
   <div class="bot" (click)="setValue('del')"><ion-icon class="icon" name="backspace"></ion-icon></div>
 </ion-col>
 </ion-row>
 
 <ion-row>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(4)">4</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(5)">5</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(6)">6</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot"></div>
   </ion-col>
 </ion-row>
 
 <ion-row>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(7)">7</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(8)">8</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(9)">9</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot"></div>
   </ion-col>
 </ion-row>
 
 <ion-row>
   <ion-col class="boton">
     <div class="bot" (click)="setValue('-')">-</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue(0)">0</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="setValue('.')">.</div>
   </ion-col>
   <ion-col class="boton">
     <div class="bot" (click)="teclado=false"><ion-icon  class="icon green" name="checkmark-circle"></ion-icon></div>
   </ion-col>
 </ion-row>
 </ion-grid>
  -->
 
     <!-- FIN INPUT PERSONALIZADO -->
       <hr>   
 <div style="width:100%;display:flex"> 
 <ion-button (click)="takeFoto()" twitter style="width: 30%;">{{"foto" | translate}}</ion-button> 
 <ion-button (click)="terminar()" [disabled]="desactivado" twitter style="width: 30%;">{{"terminar" | translate}}</ion-button> 
 <ion-button [disabled]="hayIncidenciaAd>0"  color="danger" (click)="nuevaIncidencia()" twitter style="width: 30%">{{"incidencia" | translate}}</ion-button> 
</div>     
 <img [src]="base64Image" *ngIf="base64Image" />
 </ion-card-content>
   </ion-card>
   <ion-footer *ngIf="hayRetraso>0" style="padding:15px; background-color:#ccc">
     <span ><b>
     {{'hay' | translate}} {{hayRetraso}} {{'eventosPendientes' | translate}} {{fecha_prevista | date:'dd-MM-yyyy'}}, {{'autocompletar' | translate}} 
     </b></span> 
     <ion-item style="background-color:#eee">
         <ion-label><b>completar</b></ion-label>
     <ion-toggle [(ngModel)]="autocompletar"></ion-toggle>
     </ion-item>
   </ion-footer>
 </ion-content>
